@using HSMServer.Model

@model TimeIntervalViewModel

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers


<div class="d-grid">
    <select id="timeIntervalSelect_@Model.Id" class="form-select" asp-for="TimeInterval" asp-items="@Model.IntervalItems"></select>
    <input id="customTimeInterval_@Model.Id" class="customTimeInterval form-control" placeholder="@TimeIntervalViewModel.CustomTemplate" style="display:none;" asp-for="CustomTimeInterval" />
</div>

<script>
    displaySelectedOption();

    var id = '@Model.Id';
    var interval_id = `#timeIntervalSelect_${id}`;
    var custom_val_id = `#customTimeInterval_${id}`;

    $(interval_id).change(displaySelectedOption);

    function displaySelectedOption() {
        if ('@Model.CustomItemIsVisible' === "False") {
            return;
        }

        if ($('option:selected', $(interval_id)).text() == '@TimeInterval.Custom') {
            $(custom_val_id).show();
        }
        else {
            $(custom_val_id).hide();
        }
    }
</script>
